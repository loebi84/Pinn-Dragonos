- name: 🔍 Hole aktuellen DragonOS-Link dynamisch
  id: get-dragonos-url
  run: |
    echo "🧠 Lade RSS-Feed von SourceForge…"
    curl -s "https://sourceforge.net/projects/dragonos/rss?path=/DragonOS_Pi64" > feed.xml

    echo "🔎 Suche nach .img.xz-Datei…"
    download_url=$(grep -oP 'url="\K[^"]+\.img\.xz' feed.xml | head -n 1)

    echo "📎 Gefundene URL: $download_url"
    echo "dragonos_url=$download_url" >> $GITHUB_OUTPUT

- name: 📥 Lade DragonOS.img.xz
  run: |
    wget -O dragonos.img.xz "${{ steps.get-dragonos-url.outputs.dragonos_url }}"